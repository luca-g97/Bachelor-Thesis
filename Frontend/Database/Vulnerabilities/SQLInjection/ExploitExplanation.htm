<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add an icon library -->
    <script src="https://unpkg.com/feather-icons"></script>
    <title>Problem</title>
    <style>
        .title{
            background-color: #111111;
            border-radius: 5px;
            padding: 1%;
        }
        body{
            background-color: #222222;
            text-align: center;
            color: lightgrey;
            font-family: 'Open Sans',sans-serif;
        }
        .explanationContainer {
            font-size: 1.3em;
            padding: 1%;
            width: 93%;
            color: lightgrey;
            border: 10px solid #151515;
            border-radius: 5px;
            background-color: #111111
        }
        .explanationInformation{
            font-size: 1.1em;
            color: whitesmoke;
            padding: 1%;
        }
        .explanation{
            font-size: 0.8em;
            background-color: #111111;
            color: lightgrey;
            padding: 2%;
        }
        .information{
            position: relative;
            left: 5%;
            width: 90%;
            text-align: left;
            hyphens: auto;
            word-wrap: break-word;
            letter-spacing: .04em;
        }
        .informationLink{
            color: lightsteelblue;
            font-weight: bold;
        }
        .hackExplanationTip
        {
            padding: 1%;
            border: #999999 solid 3px;
            margin: 2%;
            border-radius: 10px;
        }
        .hackExplanationSolution
        {
            padding: 1%;
            border: lightgrey solid 3px;
            margin: 2%;
            border-radius: 10px;
        }
        .hackExplanationResult
        {
            padding: 1%;
            border: darkorange solid 3px;
            margin: 2%;
            border-radius: 10px; 
        }
        .hackExplanation{
            word-wrap: break-word;
            letter-spacing: .04em;
            align-content: center;
            font-size: 0.9em;
            color: lightgrey;
            white-space: inherit;
            cursor: pointer;
            user-select: none;
            padding: 1%;
        }
        .hackExplanationTip:hover, .hackExplanationSolution:hover, .switchSite:hover{
            background-color: #333333;
        }
        .switchSite {
            opacity: 0.8;
            background-color: black;
            padding: 2%;
            font-size: 0.9em;
            margin: 3%;
            border-radius: 10px;
            cursor: pointer;
            color: whitesmoke;
            font-weight: bold;
            border: 3px solid orangered;
        }
        .feather{
            width: 7%;
            vertical-align: bottom;
            color: lightgrey;
        }
        .feather-right{
            float: right;
            width: 7%;
            vertical-align: bottom;
        }
    </style>
  </head>
  <body>
    <div>
        <h2 id="0" class="title"><br></h2>
        <p id="1" class="information"></p>
                    <div class="explanationContainer">
                        <p id="2" class="explanationInformation"></p>
                        <div class="hackExplanationTip"><div class="hackExplanation" id="6" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationTip"><div class="hackExplanation" id="7" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationTip"><div class="hackExplanation" id="8" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="9" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="10" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="11" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="12" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="13" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationResult"><div class="hackExplanation" id="14" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="15" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="16" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="17" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="18" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="19" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationResult"><div class="hackExplanation" id="20" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationResult"><div class="hackExplanation" id="21" ondblclick="showTip(this)"></div></div>
                        <button id="4" class="switchSite" onclick="window.open('../../../CommandProcessor.php?action=ChangeWebsite&website=Database/Vulnerable/DatabaseLogin.htm')"></button>
                        <button id="5" class="switchSite" onclick="window.open('../../../CommandProcessor.php?action=ChangeWebsite&website=Database/Secure/DatabaseLogin.htm')"></button>
                    </div>
                <p id="3" class="information"></p>
              </div>
    <script>
        var german = ["SQL-Injection", "", "<b>Wie kann man diese Lücke nutzen?</b>", "",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp ÖFFNE ZU HACKENDE WEBSITE",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp ÖFFNE SICHERE WEBSITE",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tipp 1 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tipp 2 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tipp 3 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 1.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 1.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 1.3<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 1.4<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 1.5<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Ergebnis 1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 2.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 2.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 2.3<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 2.4<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 2.5<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Ergebnis 2.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Ergebnis 2.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<b>Tipp 1:</b><br><br>Wie könnten Sie an das Passwort gelangen?",
            "<b>Tipp 2:</b><br><br>Haben Sie eine Idee welchen Nutzernamen man einfach mal versuchen könnte einzugeben?",
            "<b>Tipp 3:</b><br><br>Welches der beiden Felder ist gefährdeter für eine SQL-Injection? Wie könnte diese aussehen?",
            "<b>Lösung Schritt 1.1:</b><br><br>Falls Sie sich nicht auf der DatabaseLogin.htm-Seite befinden, gehen Sie dorthin, indem Sie das Folgende in die URL-Suchleiste kopieren: <span style='color: orangered'><b>" + window.location.host + "/Database/Vulnerable/DatabaseLogin.htm</b></span> und im Anschluss <b>Enter</b> drücken",
            "<b>Lösung Schritt 1.2:</b><br><br>Sie möchten nun das Passwort mittels einer SQL-Injection herausfinden. Dafür raten Sie einfach mal, dass es einen Benutzer <b>test</b> gibt. Sie geben nun also das Folgende in das Feld für den Benutzernamen ein: <span style='color: orangered'><b>test'--</b></span>",
            "<b>Lösung Schritt 1.3:</b><br><br>Auch wenn das zunächst unglaublich klingt, aber Sie können nun als Passwort schreiben was sie möchten. Warum genau das der Fall ist wird im Reiter <b>Sicherheitslücke</b> erklärt.",
            "<b>Lösung Schritt 1.4:</b><br><br>Nun müssen Sie sich bereit machen die aufploppende Seite genau zu lesen. Dort wird nämlich das Ergebnis Ihrer SQL-Anfrage gezeigt und dieses sollten Sie kopieren. Wenn Sie bereit sind, drücken Sie auf den <b>Login-Button</b> oder drücken Sie die <b>Enter-Taste</b>",
            "<b>Lösung Schritt 1.5:</b><br><br>Sie sollten nun im Besitz des Passworts sein. <br><br><i>Falls nicht, drücken Sie solange auf den <b>Login-Button</b> bis sie das Passwort kopieren konnten und fahren Sie erst dann mit dem Lesen fort.</i><br><br> Das erhaltene Passwort <span style='color: orangered'><b>NoChanceMr.Hacker!123</b></span> geben Sie nun im Passwort-Feld ein bzw. kopieren es dorthin. Geben Sie als Benutzernamen <span style='color: orangered'><b>test</b></span> ein und drücken Sie den <b>Login-Button</b>",
            "<b>Lösung Ergebnis 1:</b><br><br>Sie haben sich nun erfolgreich als Nutzer <b>test</b> eingeloggt, müssen jedoch nun noch das Adminpasswort für die Datenbank herausfinden",
            "<b>Lösung Schritt 2.1:</b><br><br>Falls Sie sich nicht auf der Login-Seite der Database.htm-Website befinden, gehen Sie dorthin, indem Sie das Folgende in die URL-Suchleiste kopieren: <span style='color: orangered'><b>" + window.location.host + "/Database/Vulnerable/Database.htm</b></span> und im Anschluss <b>Enter</b> drücken <br><br><i> Falls Sie nicht auf die Login-Seite weitergeleitet werden sollten, öffnen Sie bitte die Entwickleroptionen indem Sie <b>F12</b> drücken und klicken Sie dort auf <b>Webspeicher</b>. Klicken Sie auf <b>Cookies</b> um diesen Abschnitt zu öffenen und führen Sie im Anschluss einen Rechtsklick auf den <b>" + window.location.host + "</b>-Cookie aus. Wählen Sie dort <b>Alles löschen</b> aus und laden Sie im Anschluss die Seite neu indem Sie <b>Strg + F5</b> drücken</i>",
            "<b>Lösung Schritt 2.2:</b><br><br>Zunächst wollen Sie eine ordnungsgemäße SQL-Anfrage durchführen. Dafür kopieren Sie das Folgende in das Eingabefeld: <span style='color: orangered'><b>select * from ExampleTable</b></span>. Drücken Sie im Anschluss <b>Enter</b>",
            "<b>Lösung Schritt 2.3:</b><br><br>Wenn Sie jetzt gut aufgepasst haben beim ersten Teil der Lösung, sollten Ihnen die Namen der anderen Tabellen bekannt sein. <br><br><i>Falls nicht, führen sie einfach noch einmal <b>Lösung 1</b> durch und fahren Sie erst dann mit dem Lesen fort.</i><br><br> Neben der Anzeige des Passworts wurde u. A. auch der Name einer für Sie sehr interessanten Tabelle angezeigt: <span style='color: orangered'><b>Admin</b></span>. Diese werden Sie nutzen um das Passwort zu erhalten",
            "<b>Lösung Schritt 2.4:</b><br><br>Um nun die echte SQL-Injection durchzuführen ändern wir einfach den Namen der Tabelle in unserer Anfrage ab <b>(ExampleTable -> Admin)</b>. Die fertige Eingabe sollte damit wie folgt aussehen: <span style='color: orangered'><b>select * from Admin</b></span>. Drücken Sie im Anschluss die <b>Enter-Taste</b>",
            "<b>Lösung Schritt 2.5:</b><br><br>Im Fenster oberhalb der Tabelle steht nun das Datenbank-Passwort <span style='color: orangered'><b>admin123</b></span> neben dem Loginpasswort des Admins. Dieses geben Sie nun in das Eingabefeld ein und drücken die <b>Enter-Taste</b>",
            "<b>Lösung Ergebnis 2.1:</b><br><br>Sie haben sich nun erfolgreich als Admin in die Datenbank eingeloggt. Damit haben Sie nun vollen Zugriff und können sämtliche Daten löschen bzw. bearbeiten",
            "<b>Lösung Ergebnis 2.2:</b><br><br>Versuchen sie beide Vorgänge noch einmal nachdem Sie die sichere Website mit einem Klick auf den <b>Öffne sichere Website</b> Button geöffnet haben. <br><br>Es taucht weder beim einen noch beim anderen Versuch ein Passwort oder irgendeine nützliche Information auf"];

        var english = ["SQL Injection", "", "<b>How can this breach be used?</b>", "",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp OPEN WEBSITE TO HACK",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp OPEN SECURE WEBSITE",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tip 1 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tip 2 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tip 3 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 1.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 1.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 1.3<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 1.4<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 1.5<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Result 1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 2.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 2.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 2.3<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 2.4<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 2.5<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Result 2.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Result 2.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<b>Tip 1:</b><br><br>How could you get the password?",
            "<b>Tip 2:</b><br><br>Do you have any idea which username you could try to type in?",
            "<b>Tip 3:</b><br><br>Which of the both fields is more vulnerable for a SQL injection? How could it look like?",
            "<b>Solution Step 1.1:</b><br><br>If you aren´t at the DatabaseLogin.htm webpage, go there by copying the following in the URL search bar: <span style='color: orangered'><b>" + window.location.host + "/Database/Vulnerable/DatabaseLogin.htm</b></span> and hit <b>Enter</b> afterward",
            "<b>Solution Step 1.2:</b><br><br>You want to find out the password by using a SQL injection. To do so you guess that there is a user <b>test</b> in the database. You enter the following in the username field: <span style='color: orangered'><b>test'--</b></span>",
            "<b>Solution Step 1.3:</b><br><br>Even though it sounds unbelievable, you can now enter whatever you want as a password. Why this is the case is explained in the section <b>Vulnerability</b>",
            "<b>Solution Step 1.4:</b><br><br>You now have to read the upcoming page carefully since there will be the result of your SQL request shown and you want to copy it. If you are ready click the <b>Login</b> button or press <b>Enter</b>",
            "<b>Solution Step 1.5:</b><br><br>You should now have the password. <br><br><i>If not please press the <b>Login</b> button until you are able to copy it and only then read further.</i><br><br> Paste the received password <span style='color: orangered'><b>NoChanceMr.Hacker!123</b></span> into the password field. Choose <span style='color: orangered'><b>test</b></span> as username and click on the <b>Login</b> button",
            "<b>Solution Result 1:</b><br><br>You are now successfully logged in as user <b>test</b> but you still have to enter the admin password to get access to the database",
            "<b>Solution Step 2.1:</b><br><br>If you aren´t at the login webpage of the Database.htm webpage, go there by copying the following in the URL search bar: <span style='color: orangered'><b>" + window.location.host + "/Database/Vulnerable/Database.htm</b></span> and hit <b>Enter</b> afterward. <br><br><i>If you don´t get redirected to the login webpage, please open the developer options via <b>F12</b> and click on <b>Webstorage</b>. Click the <b>Cookies</b> section to open and rightclick on the <b>" + window.location.host + "</b> cookie in this section. Finally choose <b>Delete all</b> and reload the page afterward by hitting <b>Ctrl + F5</b></i>",
            "<b>Solution Step 2.2:</b><br><br>First you want to do an intended SQL request. To do so copy the following into the input field: <span style='color: orangered'><b>select * from ExampleTable</b></span>. Press <b>Enter</b> afterward",
            "<b>Solution Step 2.3:</b><br><br>If you paid close attention in the first part of the solution, you should know the names of the other tables. <br><br><i>If not please repeat <b>Solution 1</b> and only then read further.</i><br><br> Not only the password was shown there but also the name of a table which sounds extremely interesting for you: <span style='color: orangered'><b>Admin</b></span>. You will use this table to receive the password",
            "<b>Solution Step 2.4:</b><br><br>To do a real SQL injection we just change the name of the table in our request <b>(ExampleTable -> Admin)</b>. The complete input field should now say: <span style='color: orangered'><b>select * from Admin</b></span>. Hit <b>Enter</b> afterward",
            "<b>Solution Step 2.5:</b><br><br>In the window above the table you can now see the database password <span style='color: orangered'><b>admin123</b></span> besides the Login password of the admin. You know insert this into the input field and hit <b>Enter</b>",
            "<b>Solution Result 2.1:</b><br><br>You have successfully logged in as admin into the database. You now have full access and can delete data or edit it as you want",
            "<b>Solution Result 2.2:</b><br><br>Try both procedures again after opening the secure website by clicking on the <b>Open secure website</b> button. <br><br>There won´t appear a password or any other useful information on neither of both tries"];

        var languageToUse = english;
        if (localStorage.getItem("language") === "German")
        {
            languageToUse = german;
        }

        for (var i = 0; i < 22; i++)
        {
            document.getElementById(i.toString()).innerHTML = languageToUse[i];
        }

        //Replace the icons with svgs
        feather.replace();

        var visibleElements = [];
        function showTip(element)
        {
            var index;
            if (!visibleElements.includes(element.id))
            {
                visibleElements.push(element.id);
                index = parseInt(element.id) + 16;
                element.style.textAlign = "left";
element.style.hyphens = "auto";
                element.style.userSelect = "auto";
                element.style.cursor = "text";
            }
            else
            {
                index = visibleElements.indexOf(element.id);
                visibleElements.splice(index, index+1);
                index = element.id;
                element.style.textAlign = "center";
                element.style.userSelect = "none";
                element.style.cursor = "pointer";
            }
            element.innerHTML = languageToUse[index];
            feather.replace();
        }
    </script>
  </body>
</html>