<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add an icon library -->
    <script src="https://unpkg.com/feather-icons"></script>
    <title>Problem</title>
    <style>
        .title{
            background-color: #111111;
            border-radius: 5px;
            padding: 1%;
        }
        .body{
            background-color: #222222;
            text-align: center;
            color: lightgrey;
            font-family: 'Open Sans',sans-serif;
        }
        .explanationContainer {
            font-size: 1.3em;
            padding: 1%;
            width: 93%;
            color: lightgrey;
            border: 10px solid #151515;
            border-radius: 5px;
            background-color: #111111
        }
        .explanationInformation{
            font-size: 1.1em;
            color: whitesmoke;
            padding: 1%;
        }
        .explanation{
            font-size: 0.8em;
            background-color: #111111;
            color: lightgrey;
            padding: 2%;
        }
        .information{
            position: relative;
            left: 5%;
            width: 90%;
            text-align: left;
            hyphens: auto;
            word-wrap: break-word;
            letter-spacing: .04em;
        }
        .informationLink{
            color: lightsteelblue;
            font-weight: bold;
        }
        .websiteName{
            background-color: black;
            padding: 2%;
            margin: 2%;
            color: darkgrey;
            border-radius: 10px;
        }
        .switchSite:hover{
            background-color: #333333;
        }
        .switchSite {
            opacity: 0.8;
            background-color: black;
            padding: 2%;
            font-size: 0.9em;
            margin: 3%;
            border-radius: 10px;
            cursor: pointer;
            color: whitesmoke;
            font-weight: bold;
            border: 3px solid orangered;
        }
        .feather{
            width: 7%;
            vertical-align: bottom;
            color: dimgrey;
        }
    </style>
</head>
<body class="body">
<div>
    <h2 id="0" class="title"><br></h2>
    <p id="1" class="information"></p>
    <div class="explanationContainer">
        <p id="2" class="explanationInformation"></p>
        <div class="websiteName">Database.php # line4005<embed src="../Views/Secure/Database.htm#line4002" type="text/html" width="100%" height="200px" style="text-align: left; white-space: normal; text-wrap: none"><p id="5" class="explanation"></p></div>
        <div class="websiteName"><span style="color: deepskyblue; font-weight: bold">Ideal: Database.php # line118</span><embed src="../Views/Secure/Database.htm#line118" type="text/html" width="100%" height="200px" style="text-align: left; white-space: normal; text-wrap: none"><p id="6" class="explanation"></p></div>
        <button id="4" class="switchSite" onclick="window.open('../../../CommandProcessor.php?action=ChangeWebsite&website=Database/Secure/Database.htm')"></button>
    </div>
    <p id="3" class="information"></p>
</div>
<script>
    var german = ["Passwort-Speicherung", "", "<b>Wie kann man diese Lücke bereits vorab verhindern?</b>", "<i class='feather' data-feather='compass' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Weiterführende Informationen:</b><br><br>Argon2 bietet verschiedene Varianten von denen Argon2id am besten geeignet ist für das Hashen von Passwörtern (nicht zu verwechseln mit Encryption (Verschlüsselung), da diese eine Decryption (Entschlüsselung) vorsieht - Hashen ist jedoch nur einseitig gedacht). Es ist extrem sicher, da es 3 Faktoren, die den Aufwand festlegen benötigt, die minimal folgende Werte haben sollten: eine minimale Memory Configuration (Speicherbelegung), einen Iteration Count (Durchlaufsanzahl) von 2, und ein Degree Of Parallelism (maximal eine Bearbeitung gleichzeitig). Dies garantiert, dass nur eine bestimmte Anzahl von Hashes gleichzeitig geknackt werden können, was in einem unmöglichen Zeitaufwand endet. Salt, ein zufällig generierter und einzigartiger String (Programmierersprache für Texteinheit) für jeden Nutzer wird hierbei bereits mitgenutzt. Um das Knacken von Passwörtern zusätzlich zu erschweren, kann auch noch Pepper hinzugefügt werden, was einen Hacker davon abhält ein Passwort zu knacken, wenn er die Datenbank übernommen hat. Dieser muss außerhalb der Datenbank als Geheimnis behandelt in sogenannten Hardware Security Modules (HMS) (streng gesicherter Hardware) aufbewahrt werden.<br><br>Falls kein Argon2 zur Verfügung stehen sollte, wird <b>scrypt unter Verwendung von eingestellten Work Factors</b> empfohlen, wohingegen <b>bcrypt</b> nur für Legacy Sytems (veralteten, aber noch genutzten System) genutzt werden sollte. <a href='' onclick=\"window.open('https://en.wikipedia.org/wiki/Legacy_system')\" class='informationLink'>(Wikipedia, 2023)</a>, <a href='' onclick=\"window.open('https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html')\" class='informationLink'>(CheatSheets Series Team, 2021)</a>",
        "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp ÖFFNE SICHERE WEBSITE", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Was macht die markierte Zeile?</b><br><br>Sie hasht das Passwort mit MD5 und Salt (einzigartiger zufälliger String), sodass es nicht mehr in einer Rainbowtable (Tabelle mit geknackten Passworthashes) gefunden werden kann", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Was macht die markierte Zeile?</b><br><br>Noch idealer ist die Verwendung eines ungeknackten Hashverfahrens, wie Argon2, das hier eingestellt ist (mehr Informationen unterhalb in Weiterführende Informationen)"];

    var english = ["Password Storage", "", "<b>How can it be avoided beforehand?</b>", "<i class='feather' data-feather='compass' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Further Information:</b><br><br>Argon2 offers different variants, of which Argon2id is best suited for Password hashing. It is highly secure due to three work factors with minimum values: “a minimum configuration of 19 MiB of memory, an iteration count of 2, and 1 degree of parallelism”. Those ensure, that there are only limited parallel working hash cracks possible, which result in a gigantic time needed to crack them. Salt, a string which is randomly generated and unique for every user is already included in this method. To make the storage even more secure Pepper can be added, “to prevent an attacker from being able to crack any of the hashes if they only have access to the database”. This must be stored outside the database unlike the salt, and must be treated as a secret in Hardware Security Modules (HMS). <br><br>If argon2 is not available, scrypt should be used with defined work factors, whereas bcrypt only is recommended for legacy systems (systems which are outdated but still used). <a href='' onclick=\"window.open('https://en.wikipedia.org/wiki/Legacy_system')\" class='informationLink'>(Wikipedia, 2023)</a>, <a href='' onclick=\"window.open('https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html')\" class='informationLink'>(CheatSheets Series Team, 2021)</a>",
        "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp OPEN SECURE WEBSITE", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>What does the marked line do?</b><br><br>It hashes the stored password with MD5 and salt (unique random string), so it can not be found in rainbow tables anymore", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>What does the marked line do?</b><br><br>Even more ideal is the use of an unbroken hashing method such as Argon2, which is shown here (more information underneath in Further Information)"];

    var languageToUse = english;
    if (sessionStorage.getItem("language") === "German")
    {
        languageToUse = german;
    }

    for (var i = 0; i < 7; i++)
    {
        document.getElementById(i.toString()).innerHTML = languageToUse[i];
    }

    //Replace the icons with svgs
    feather.replace();
</script>
</body>
</html>