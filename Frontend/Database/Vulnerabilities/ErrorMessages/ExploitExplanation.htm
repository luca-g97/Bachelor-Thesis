<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add an icon library -->
    <script src="https://unpkg.com/feather-icons"></script>
    <title>Problem</title>
    <style>
        .title{
            background-color: #111111;
            border-radius: 5px;
            padding: 1%;
        }
        body{
            background-color: #222222;
            text-align: center;
            color: lightgrey;
            font-family: 'Open Sans',sans-serif;
        }
        .explanationContainer {
            font-size: 1.3em;
            padding: 1%;
            width: 93%;
            color: lightgrey;
            border: 10px solid #151515;
            border-radius: 5px;
            background-color: #111111
        }
        .explanationInformation{
            font-size: 1.1em;
            color: whitesmoke;
            padding: 1%;
        }
        .information{
            position: relative;
            left: 5%;
            width: 90%;
            text-align: left;
            hyphens: auto;
            word-wrap: break-word;
            letter-spacing: .04em;
        }
        .hackExplanationTip
        {
            padding: 1%;
            border: #999999 solid 3px;
            margin: 2%;
            border-radius: 10px;
        }
        .hackExplanationSolution
        {
            padding: 1%;
            border: lightgrey solid 3px;
            margin: 2%;
            border-radius: 10px;
        }
        .hackExplanationResult
        {
            padding: 1%;
            border: darkorange solid 3px;
            margin: 2%;
            border-radius: 10px; 
        }
        .hackExplanation{
            word-wrap: break-word;
            letter-spacing: .04em;
            align-content: center;
            font-size: 0.9em;
            color: lightgrey;
            white-space: inherit;
            cursor: pointer;
            user-select: none;
            padding: 1%;
        }
        .hackExplanationTip:hover, .hackExplanationSolution:hover, .switchSite:hover{
            background-color: #333333;
        }
        .switchSite {
            opacity: 0.8;
            background-color: black;
            padding: 2%;
            font-size: 0.9em;
            margin: 3%;
            border-radius: 10px;
            cursor: pointer;
            color: whitesmoke;
            font-weight: bold;
            border: 3px solid orangered;
        }
        .feather{
            width: 7%;
            vertical-align: bottom;
            color: lightgrey;
        }
        .feather-right{
            float: right;
            width: 7%;
            vertical-align: bottom;
        }
    </style>
  </head>
  <body>
    <div>
        <h2 id="0" class="title"><br></h2>
        <p id="1" class="information"></p>
                    <div class="explanationContainer">
                        <p id="2" class="explanationInformation"></p>
                        <div class="hackExplanationTip"><div class="hackExplanation" id="6" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationTip"><div class="hackExplanation" id="7" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationTip"><div class="hackExplanation" id="8" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="9" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="10" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationSolution"><div class="hackExplanation" id="11" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationResult"><div class="hackExplanation" id="12" ondblclick="showTip(this)"></div></div>
                        <div class="hackExplanationResult"><div class="hackExplanation" id="13" ondblclick="showTip(this)"></div></div>
                        <button id="4" class="switchSite" onclick="window.open('../../../CommandProcessor.php?action=ChangeWebsite&website=Database/Vulnerable/DatabaseLogin.htm')"></button>
                        <button id="5" class="switchSite" onclick="window.open('../../../CommandProcessor.php?action=ChangeWebsite&website=Database/Secure/DatabaseLogin.htm')"></button>
                    </div>
                <p id="3" class="information"></p>
              </div>
    <script>
        var german = ["Information bei Fehlern", "", "<b>Wie kann man diese Lücke nutzen?</b>", "",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp ÖFFNE ZU HACKENDE WEBSITE",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp ÖFFNE SICHERE WEBSITE",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tipp 1 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tipp 2 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tipp 3 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Schritt 3<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Ergebnis 1.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Lösung Ergebnis 1.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<b>Tipp 1:</b><br><br>Was könnten Sie in das Login-Formular schreiben?",
            "<b>Tipp 2:</b><br><br>Wie könnten Sie Meldungen erhalten durch die Herbeiführung eines Fehlers?",
            "<b>Tipp 3:</b><br><br>Wie können Sie diesen nutzen, um genug Informationen zu erhalten, um sich Zutritt zu verschaffen?",
            "<b>Lösung Schritt 1:</b><br><br>Falls Sie sich nicht auf der DatabaseLogin.htm-Seite befinden, gehen Sie dorthin, indem Sie das Folgende in die URL-Suchleiste kopieren: <span style='color: orangered'><b>" + window.location.host + "/Database/Vulnerable/DatabaseLogin.htm</b></span> und im Anschluss <b>Enter</b> drücken",
            "<b>Lösung Schritt 2:</b><br><br>Geben Sie irgendetwas als Benutzernamen und als Passwort ein (es ist wirklich egal was!)",
            "<b>Lösung Schritt 3:</b><br><br>Auf der aufploppenden Seite werden Sie diverse Informationen sehen, die als Nutzer der Datenbank sehr hilfreich sein können, allerdings auch aufgrund der Ausführlichkeit sehr gefährlich. Drücken Sie nun die <b>Enter-Taste</b> oder klicken Sie auf <b>Login</b>",
            "<b>Lösung Ergebnis 1.1:</b><br><br>Sie haben nun die Namen aller verfügbarer Tabellen erhalten, ebenso wie die Spaltennamen der Tabelle in der nachgesehen wurde. Dies sollte ein Hacker niemals zu Gesicht bekommen wie Sie in der Sicherheitslücke <b>SQL-Injection</b> feststellen werden",
            "<b>Lösung Ergebnis 1.2:</b><br><br>Versuchen Sie nun denselben Vorgang nachdem Sie durch einen Klick auf den Button <b>Öffne sichere Website</b> die sichere Website geöffnet haben. Sie werden keinerlei Informationen mehr sehen die für einen Hacker interessant sein könnten"];

        var english = ["Error Messages", "", "<b>How can this breach be used?</b>", "",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp OPEN WEBSITE TO HACK",
            "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp OPEN SECURE WEBSITE",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tip 1 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tip 2 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'help-circle\'></i> &nbsp Tip 3 <i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Step 3<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Result 1.1<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<i class='feather' data-feather=\'info\'></i> &nbsp Solution Result 1.2<i class='feather-right' data-feather=\'chevron-down\'></i>",
            "<b>Tip 1:</b><br><br>What could you write in the login form?",
            "<b>Tip 2:</b><br><br>How could you receive messages by provoking an error through a faulty input?",
            "<b>Tip 3:</b><br><br>How could you use this to gain information, to get access later on?",
            "<b>Solution Step 1:</b><br><br>If you aren´t at the DatabaseLogin.htm webpage, go there by copying the following into the URL search bar: <span style='color: orangered'><b>" + window.location.host + "/Database/Vulnerable/DatabaseLogin.htm</b></span> and hit <b>Enter</b> afterward.",
            "<b>Solution Step 2:</b><br><br>Enter whatever you like as username and password (it really doesn´t matter!)",
            "<b>Solution Step 3:</b><br><br>On the upcoming site there will be a lot of information which are useful as users of the database but also seriously dangerous since they are extremely detailed. Hit <b>Enter</b> now or click on <b>Login</b>",
            "<b>Solution Result 1.1:</b><br><br>You have now found out all names of the tables as well as the names of the columns of the table which was checked. This should never be visible for a hacker as you will find out in the vulnerability <b>SQL injection</b>",
            "<b>Solution Result 1.2:</b><br><br>Try the same process after opening the secure website by clicking on the <b>Open secure website</b> button. You won´t find any information which are interesting for a hacker"];

        var languageToUse = english;
        if (localStorage.getItem("language") === "German")
        {
            languageToUse = german;
        }

        for (var i = 0; i < 14; i++)
        {
            document.getElementById(i.toString()).innerHTML = languageToUse[i];
        }

        //Replace the icons with svgs
        feather.replace();

        var visibleElements = [];
        function showTip(element)
        {
            var index;
            if (!visibleElements.includes(element.id))
            {
                visibleElements.push(element.id);
                index = parseInt(element.id) + 8;
                element.style.textAlign = "left";
element.style.hyphens = "auto";
                element.style.userSelect = "auto";
                element.style.cursor = "text";
            }
            else
            {
                index = visibleElements.indexOf(element.id);
                visibleElements.splice(index, index+1);
                index = element.id;
                element.style.textAlign = "center";
                element.style.userSelect = "none";
                element.style.cursor = "pointer";
            }
            element.innerHTML = languageToUse[index];
            feather.replace();
        }
    </script>
  </body>
</html>