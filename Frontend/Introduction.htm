<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction</title>
    <!-- Include the library of sweetalert to display the language picker -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.all.min.js"></script>
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.min.css'>
    <!-- Add an icon library -->
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        body {
            background-color: #222222;
            text-align: center;
            color: lightgrey;
            font-family: 'Open Sans', sans-serif;
        }

        .title {
            background-color: #111111;
            border-radius: 5px;
            padding: 1%;
        }

        .introduction {
            position: relative;
            width: 84%;
            left: 6%;
            font-size: 1.3em;
        }

        .topicsContainer {
            position: relative;
            left: 5%;
            width: 90%;
            border-spacing: 20px;
            background-color: #111111;
            font-size: 1.1em;
            color: lightgrey;
            border: 10px solid #151515;
            border-radius: 5px;
        }

        .topicContainer {
            width: 33%;
            background-color: #333333;
            text-align: center;
            border-radius: 5%;
            border: 10px solid #111111;
            padding: 1%;
            cursor: pointer;
        }

        .topicContainer {
            width: 33%;
            background-color: #333333;
            text-align: center;
            border-radius: 5%;
            border: 10px solid #111111;
            padding: 1%;
            cursor: pointer;
        }

        .topic {
            color: lightgrey;
        }
        .topic {
            color: lightgrey;
        }

        .switchSite:hover{
            background-color: #333333;
        }
        .switchSite:hover{
            background-color: #333333;
        }
        .switchSite {
            opacity: 0.8;
            background-color: black;
            padding: 1%;
            font-size: 1em;
            border-radius: 10px;
            cursor: pointer;
            color: whitesmoke;
            font-weight: bold;
            border: 3px solid orangered;
        }
        #languageIcon{
            font-size: 2em;
            background-color: transparent;
            border: none;
        }
        .feather{
            width: 7%;
            vertical-align: bottom;
            color: lightgrey;
        }
        .featherBig{
            width: 10%;
            color: lightgrey;
            align-content: center;
            vertical-align: super;
        }
        .featherLeft{
            left: 0;
            width: 7%;
            vertical-align: bottom;
            color: lightgrey;
        }
        .featherRight{
            right: 0;
            width: 7%;
            vertical-align: bottom;
            color: lightgrey;
        }
    </style>
</head>
<!-- Start of my insert -->
<style>
    #explanationOpener {
        opacity: 0.7;
        width: 100px;
        height: 100px;
        z-index: 100;
        position: fixed;
        bottom: 10px;
        right: 10px;
        cursor: pointer;
        border-radius: 2%;
    }
    #explanationCloser {
        width: 1.3%;
        height: 2%;
        z-index: 100;
        top: 1%;
        left: 100.5%;
        position: fixed;
        color: lightgrey;
        cursor: pointer;
        border: 2px solid lightgrey;
        background-color: black;
        border-radius: 3px;
    }
    #explanation{
        margin: 0;
        position: fixed;
        background-color: black;
        top: 0;
        width: 30%;
        left: 100%;
        height: 100%;
        border: 2px solid black;
        font-family: 'Open Sans',sans-serif;
    }
    .information {
        color: whitesmoke;
        background-color: #111111;
        text-align: center;
        font-weight: bold;
        height: 10%;
        padding: 2%;
    }
    .informationChoice {
        user-select: none;
        padding: 1.7%;
        color: white;
        border: 1px solid #333333;
        width: 33%;
        text-align: center;
        background-color: black;
        cursor: pointer;
        border-radius: 2%;
    }
    .flex-container {
        display: flex;
        flex-wrap: nowrap;
        overflow: auto;
    }
    .flex-item {
        user-select: none;
        flex: 0 0 auto;
        width: 20%;
        height:20%;
        text-align: center;
        vertical-align: middle;
        background-color: black;
        border: 1px solid #333333;
        cursor: pointer;
    }
    #explanationCloser:hover{
        background-color: #333333;
    }
    #explanationOpener:hover{
        opacity: 1;
    }
    .picked {
        background-color: #222222;
    }
</style>
<!-- Need to be called before the elements, so the elements know what to do onclick -->
<script src="https://unpkg.com/feather-icons"></script>
<script>
    var currentlyPicked = [];

    function showExplanation(element, topic)
    {
        var currentlyClickedVulnerability = element.id;
        //Remove the class picked from the old picked elements
        for (var i = 0; i < currentlyPicked.length; i++)
        {
            if("" !== topic)
            {
                if(!currentlyPicked[i].classList.contains("flex-item"))
                {
                    currentlyPicked[i].classList.remove("picked");
                }
                else
                {
                    currentlyClickedVulnerability = currentlyPicked[i].id;
                }
            }
            else {
                currentlyPicked[i].classList.remove("picked");
            }
        }

        //Add the class picked to the new picked elements
        if(topic === "") {
            document.getElementById("2").classList.add("picked");
            currentlyPicked.push(document.getElementById("2"));
        }
        element.classList.add("picked");
        currentlyPicked.push(element);


        //Set the website source to the picked one
        var newSource = "./Example/" + currentlyClickedVulnerability + "/" + topic + ".htm";
        if(topic === "") {
            newSource = "./Example/" + currentlyClickedVulnerability + "/ExploitExplanation.htm";
        }
        
        if(element.id === "Elements" || currentlyClickedVulnerability === "Elements")
        {
            newSource = "./Example/Elements.htm";
        }
        localStorage.setItem("OpenedInIntroduction", currentlyClickedVulnerability);
        document.getElementById("website").setAttribute("src", newSource);
    }
</script>
<img id="explanationOpener" title="Click here to open&#013 the explanations" onclick="showExplanations(true)" src="../../Logo.png" alt="Click here to open the hacking Explanation">
<i class="feather" data-feather="minimize-2" title="Close Explanation" id="explanationCloser" onclick="showExplanations(false)"></i>
<div id="explanation">
    <div id="choice"><div id="0" class="information"></div>
        <div class="information"><table style="width: 100%"><tr>
            <td id="1" class="informationChoice" style="color: yellow" onclick="showExplanation(this, 'VulnerabilityExplanation')"></td>
            <td id="2" class="informationChoice" onclick="showExplanation(this, 'ExploitExplanation')"></td>
            <td id="3" class="informationChoice" style="color: lawngreen" onclick="showExplanation(this, 'PreventionExplanation')"></td>
        </tr></table></div></div>
    <embed id="website" src="" width="100%" style="background-color: transparent">
    <div id="vulnerabilities"><div id="4" class="information"></div>
        <div class="flex-container"><table style="width:100%"><tr>
            <td id="ExampleExplanation" class="flex-item" title="ExampleExplanation" onclick="showExplanation(this, '')"><img src="../../Logo.png" style="width:100px; height:100px"></td>
            <td id="Elements" class="flex-item" title="Elements" onclick="showExplanation(this, '')"><img src="../../Logo.png" style="width:100px; height:100px"></td>
        </tr></table></div></div>
</div>

<!-- Needs to be called here, because otherwise the elements are not known yet -->
<script>
    var german = ["  Wechseln Sie zwischen den Themen per Klick", "Sicherheitslücke", "Hack-Ausführung", "Verhinderung",
        "Wechseln Sie zwischen den Sicherheitslücken per Klick"];

    var english = ["  Switch between the topics by clicking on the desired", "Vulnerability", "Exploit / Hack", "Prevention",
        "Select the vulnerability by clicking on the button below"];

    var languageToUse = english;
    if (localStorage.getItem("language") === "German")
    {
        languageToUse = german;
    }

    for (var i = 0; i < languageToUse.length; i++)
    {
        document.getElementById(i.toString()).innerText = languageToUse[i];
    }
    var tabToOpen = "ExampleExplanation";
    if(localStorage.getItem("OpenedInIntroduction") !== null){
        tabToOpen= localStorage.getItem("OpenedInIntroduction");
    }
    showExplanation(document.getElementById(tabToOpen), "");
    feather.replace();

    //https://github.com/feathericons/feather/issues/585 -> Showing a title on an feather icon
    Array.from(document.querySelectorAll('svg.feather[title]')).forEach((element) => {
        element.insertAdjacentHTML('afterbegin', `<title>${element.attributes.title.value}</title>`);
    });

    function showExplanations(show) {
        if (show)
        {
            document.getElementById("explanationOpener").style.zIndex = "-100";
            document.getElementById("explanationCloser").style.left = "70.5%";
            document.getElementById("body").style.width = "70%";
            document.getElementById("explanation").style.left = "70%";

            var choice = document.getElementById("choice").offsetHeight;
            var vulnerabilities = document.getElementById("vulnerabilities").offsetHeight;
            document.getElementById("website").style.height = document.getElementById("explanation").offsetHeight - document.getElementById("explanation").offsetHeight * 0.01 - choice - vulnerabilities+ "px";
        }
        else
        {
            document.getElementById("explanationOpener").style.zIndex = "100";
            document.getElementById("explanationCloser").style.left = "100.5%";
            document.getElementById("body").style.width = "100%";
            document.getElementById("explanation").style.left = "100%";
        }
    }
</script>
<!-- End of my insert -->
<body id="body">
<div>
    <h1 id="intro0" class="title"></h1>
    <h3 id="intro1" class="introduction"></h3>
    <div>
        <table class="topicsContainer">
            <tr>
                <td class="topicContainer"><div class="topic" id="intro2"></div><br><button id="languageIcon" title="Change Language" onclick="setLanguage(this, true)"></button></td>
                <td class="topicContainer"><div class="topic" id="intro3"></div></td>
                <td class="topicContainer"><div class="topic" id="intro4"></div></td>
            </tr>
            <tr><td></td><td class="topicContainer"><div class="topic" id="intro6" style="color: orangered;"></div></td><td></td></tr>
            <tr><td class="topicContainer"><div class="topic" id="intro7"></div></td><td></td><td class="topicContainer"><div class="topic" id="intro8"></div></td></tr>
            <tr><td></td><td id="intro5" class="switchSite" onclick="window.location.assign('./index.htm')"></td><td></td></tr>
        </table>
    </div>
</div>
<script>
    var german = ["Einführung in die Funktionen der Applikation", "Die Funktionsweise der Applikation ist der Vorgehensweise eines echten Hackers nachempfunden, was mit einem Öffnen der Website beginnt. Im Anschluss würde ein Hacker dort nach möglichen Lücken suchen.<br><br>In der Applikation ist das genauso, allerdings gibt es noch das Herz der Applikation, nämlich das Zeichen unten rechts auf jeder Website. Wenn Sie darauf klicken öffnet sich als Hilfestellung auf der rechten Seite das Erklärungsfenster, indem Sie alle Erklärungen und Schritte, die den Hack betreffen, finden.",
        "<b>Sprache der Erklärungen ändern</b><br><br>Diese kann jederzeit in der rechten oberen Ecke der Startseite über einen Klick auf die jeweilige Flagge geändert werden. Testen Sie dies, indem Sie auf die Flagge klicken",
        "<b>Farbwahl und ihre Bedeutung</b><br><br><div style='color: yellow'>Markierung einer Sicherheitslücke</div><br><div style='color: lawngreen'>Markierung einer Verhinderung</div><br><div style='color: deepskyblue'>Markierung einer idealen Lösung</div><br><div style='color: lightsteelblue'>Markierung eines weiterführenden Links</div>", 
        "<b>Zeichen und ihre Bedeutung</b><br><br>Bewegen Sie den Zeiger auf eines der Zeichen um zu sehen, was sie bedeuten<br><br><img title='Zeichen für Sicherheitslücke' style='width: 10%' src='./Logo.png'>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='help-circle' title='Zeichen für Tipp'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather=\'info\' title='Zeichen für Teil der Lösung'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='compass' title='Zeichen für Weiterführende Informationen'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='external-link' title='Zeichen fürs Öffnen einer Seite'></i><br><br><i class='featherBig' data-feather='x-square' title='Zeichen für Fehler'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='check-square' title='Zeichen für Lösungsvorschlag'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='minimize-2' title='Zeichen für Minimierung der Erklärungen'></i>", 
        "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp EINFÜHRUNG ABGESCHLOSSEN",
        "<b>Bitte stellen Sie sicher, dass Pop-Ups für diese Seite erlaubt sind bevor Sie fortfahren!</b><br><div style='color: whitesmoke'><i class='featherLeft' data-feather='arrow-down-left' style=\"color: whitesmoke\"></i>Wählen Sie die Anleitung für Ihren Browser<i class='featherRight' data-feather='arrow-down-right' style=\"color: whitesmoke\"></i></div>",
        "<b>Für Firefox:</b><br><br> Klicken Sie auf das Zeichen direkt links der URL <br>(URL = <b>" + window.location.host + "/Introduction.htm</b>).<br> Wählen Sie dort bei Pop-Up-Fenster öffnen <b>Erlauben</b> aus",
        "<b>Für Chrome:</b><br><br> Klicken Sie auf das Infosymbol links der URL <br>(URL = <b>" + window.location.host + "/Introduction.htm</b>)<br> und öffnen Sie die Website-Einstellungen. Wählen Sie bei Pop-Ups und Weiterleitungen <b>Zulassen</b> aus. Kehren Sie im Anschluss auf die Applikationsseite zurück"];
    

    var english = ["Introduction into the functions of the application", "The application is inspired by the methods of a real hacker, which starts always with opening a website. Afterward a hacker would now look for possible vulnerabilities there.<br><br>This is the case in the application as well, but there is also the heart of the application, which is the sign in the bottom right corner on each website. If you click on it, the explanation window is shown on the right side of the screen, to provide help. This includes all explanations and steps for the hack",
        "<b>Change language of explanations</b><br><br>This can be done anytime in the upper right corner of the homepage by clicking on the flag in the upper right corner. Test it by clicking the flag here",
        "<b>Color choice and its meaning</b><br><br><div style='color: yellow'>Marking of a vulnerability</div><br><div style='color: lawngreen'>Marking of a prevention</div><br><div style='color: deepskyblue'>Marking of an ideal solution</div><br><div style='color: lightsteelblue'>Marking of a link for further investigation</div>",
        "<b>Signs and their meanings</b><br><br>Move the cursor on one of the signs to see what they mean<br><br><img title='Sign for a vulnerability' style='width: 10%' src='./Logo.png'>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='help-circle' title='Sign for a tip'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather=\'info\' title='Sign for a part of a solution'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='compass' title='Sign for further information'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='external-link' title='Sign for the opening of a website'></i><br><br><i class='featherBig' data-feather='x-square' title='Sign for a mistake'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='check-square' title='Sign for a suggested solution'></i>&nbsp;&nbsp;&nbsp;<i class='featherBig' data-feather='minimize-2' title='Sign for the minimization of the explanation'></i>",
        "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp TUTORIAL COMPLETED",
        "<b>Please make sure that Pop-Ups are enabled before you proceed!</b><br><div style='color: whitesmoke'><i class='featherLeft' data-feather='arrow-down-left' style=\"color: whitesmoke\"></i>Pick the instructions for your browser<i class='featherRight' data-feather='arrow-down-right' style=\"color: whitesmoke\"></i></div>",
        "<b>For Firefox:</b><br><br> Click on the sign directly left of the URL <br>(URL = <b>" + window.location.host + "/Introduction.htm</b>).<br> Choose <b>Allow</b> for Pop-Up windows there",
        "<b>For Chrome:</b><br><br> Click on the info icon left of the URL <br>(URL = <b>" + window.location.host + "/Introduction.htm</b>)<br> and open the Website settings. Choose <b>Allow</b> for Pop-Ups and Redirects. Go back to the application website afterward"];

    if(localStorage.getItem("language") != null){
        setLanguage(document.getElementById("languageIcon"), false);
    }
    
    function setText(){
        if (localStorage.getItem("language") === "German")
        {
            languageToUse = german;
        }

        for (var i = 0; i < 9; i++)
        {
            document.getElementById("intro" + i.toString()).innerHTML = languageToUse[i];
        }
    }

    function setLanguage(element, change){
        var languageToSet = localStorage.getItem("language");

        if (change) {
            if (localStorage.getItem("language") === "German") {
                languageToSet = "English";
            } else {
                languageToSet = "German";
            }
        }

        if (languageToSet === "German") {
            languageToUse = german;
            element.innerHTML = "🇩🇪"
        } else {
            languageToUse = english;
            element.innerHTML = "🇬🇧";
        }
        localStorage.setItem("language", languageToSet);
        setText();
        feather.replace();
        
        //https://github.com/feathericons/feather/issues/585 -> Showing a title on a feather icon
        Array.from(document.querySelectorAll('svg.feather[title]')).forEach((element) => {
            element.insertAdjacentHTML('afterbegin', `<title>${element.attributes.title.value}</title>`);
        });
    }
    
    //Replace the icons with svgs
    feather.replace();
</script>
</body>
</html>