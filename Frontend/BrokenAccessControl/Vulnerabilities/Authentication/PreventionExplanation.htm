<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add an icon library -->
    <script src="https://unpkg.com/feather-icons"></script>
    <title>Problem</title>
    <style>
        .title{
            background-color: #111111;
            border-radius: 5px;
            padding: 1%;
        }
        .body{
            background-color: #222222;
            text-align: center;
            color: lightgrey;
            font-family: 'Open Sans',sans-serif;
        }
        .explanationContainer {
            font-size: 1.3em;
            padding: 1%;
            width: 93%;
            color: lightgrey;
            border: 10px solid #151515;
            border-radius: 5px;
            background-color: #111111
        }
        .explanationInformation{
            font-size: 1.1em;
            color: whitesmoke;
            padding: 1%;
        }
        .explanation{
            font-size: 0.8em;
            background-color: #111111;
            color: lightgrey;
            padding: 2%;
        }
        .information{
            position: relative;
            left: 5%;
            width: 90%;
            text-align: left;
            hyphens: auto;
            word-wrap: break-word;
            letter-spacing: .04em;
        }
        .informationLink{
            color: lightsteelblue;
            font-weight: bold;
        }
        .websiteName{
            background-color: black;
            padding: 2%;
            margin: 2%;
            color: darkgrey;
            border-radius: 10px;
        }
        .switchSite:hover{
            background-color: #333333;
        }
        .switchSite {
            opacity: 0.8;
            background-color: black;
            padding: 2%;
            font-size: 0.9em;
            margin: 3%;
            border-radius: 10px;
            cursor: pointer;
            color: whitesmoke;
            font-weight: bold;
            border: 3px solid orangered;
        }
        .feather{
            width: 7%;
            vertical-align: bottom;
            color: dimgrey;
        }
    </style>
</head>
<body class="body">
<div>
    <h2 id="0" class="title"><br></h2>
    <p id="1" class="information"></p>
    <div class="explanationContainer">
        <p id="2" class="explanationInformation"></p>
        <div class="websiteName">NetflixLogin.htm # line4890<embed src="../Views/Secure/NetflixLogin.htm#line4888" type="text/html" width="100%" height="200px" style="text-align: left; white-space: normal; text-wrap: none"><p id="5" class="explanation"></p></div>
        <div class="websiteName">CommandProcessor.php # line33<embed src="../Views/CommandProcessor.htm#line30" type="text/html" width="100%" height="200px" style="text-align: left; white-space: normal; text-wrap: none"><p id="6" class="explanation"></p></div>
        <button id="4" class="switchSite" onclick="window.open('../../../CommandProcessor.php?action=ChangeWebsite&website=BrokenAccessControl/Secure/NetflixLogin.htm')"></button>
    </div>
    <p id="3" class="information"></p>
</div>
<script>
    var german = ["Authentifizierung", "", "<b>Wie kann man diese Lücke bereits vorab verhindern?</b>", "<i class='feather' data-feather='compass' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Weiterführende Informationen:</b><br><br>Ein sicher geschriebener Login basiert auf einem Tokensystem, wobei die Überprüfung serverseitig durchgeführt wird <a href='https://www.loginradius.com/blog/engineering/guest-post/nodejs-authentication-guide/' class='informationLink'>(Victor, n.d.)</a>. Daher ist die gezeigte Lösung nicht die sicherste, löst aber das Problem, dass die Login-Daten innerhalb der Webseite sichtbar sind. Open Authorization (Oauth 2.0) wird empfohlen, da dies exakt die angesprochene token-basierte Authentifizierung verwendet und von Google und anderen großen Firmen weltweit eingesetzt wird <a href='https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html' class='informationLink'>(CheatSheets Series Team, 2021)</a>",
        "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp ÖFFNE SICHERE WEBSITE", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Was macht die markierte Zeile?</b><br><br>Sie gibt die Daten weiter an den CommandpProcessor.php für die Überprüfung. Diese Datei ist nicht einsehbar mithilfe der Entwickleroptionen, sodass die Logindaten nicht mehr in der Website einsehbar sind.", "<i class='feather' data-feather='check-square' style='color: whitesmoke'></i>&nbsp;&nbsp;&nbsp;<b>Was macht die markierte Zeile?</b><br><br>Sie überprüft ob die erhaltenen Daten mit den erwarteten Werten übereinstimmen. Falls das der Fall ist, wird der Nutzer auf die nächste Seite weitergeleitet"];

    var english = ["Authentication", "", "<b>How can it be avoided beforehand?</b>", "<i class='feather' data-feather='compass' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>Further Information:</b><br><br>A secure written login is based on Tokens checked and created server side <a href='https://www.loginradius.com/blog/engineering/guest-post/nodejs-authentication-guide/' class='informationLink'>(Victor, n.d.)</a>, so the shown solution is definitely not the most secure, but solves the problem of the login data being visible on the website. Open authorization (Oauth 2.0) is recommended to use, which exactly provides the mentioned token based authentication and is used by Google and other big companies worldwide <a href='https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html' class='informationLink'>(CheatSheets Series Team, 2021)</a>",
        "<i class='feather' data-feather='external-link' style=\"color: whitesmoke\"></i> &nbsp OPEN SECURE WEBSITE", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>What does the marked line do?</b><br><br>It passes the data to the CommandProcessor.php to be checked. This file is not visible for the developer tools, so the login data is no longer visible in the website", "<i class='feather' data-feather='check-square' style=\"color: whitesmoke\"></i>&nbsp;&nbsp;&nbsp;<b>What does the marked line do?</b><br><br>It checks the provided data for equality with the expected data. If they are correct, the redirect to the next page is done"];

    var languageToUse = english;
    if (localStorage.getItem("language") === "German")
    {
        languageToUse = german;
    }

    for (var i = 0; i < 7; i++)
    {
        document.getElementById(i.toString()).innerHTML = languageToUse[i];
    }

    //Replace the icons with svgs
    feather.replace();
</script>
</body>
</html>